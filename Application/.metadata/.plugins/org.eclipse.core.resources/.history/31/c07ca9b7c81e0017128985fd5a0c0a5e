package services.proposal;

import java.util.List;

import javax.inject.Inject;

import models.Proposal;
import models.ProposalVM;
import models.PropositionOfChannel;
import models.PropositionOfWriter;
import services.data.dao.ProposalDAO;
import services.data.dao.PropositionOfChannelDAO;
import services.data.dao.PropositionOfWriterDAO;

public class ProposalEditionManager {
	private PropositionOfChannelDAO propositionOfChannelDAO;
	private PropositionOfWriterDAO propositionOfWriterDAO;
	private ProposalDAO proposalDAO;
	
	@Inject
	public ProposalEditionManager(PropositionOfChannelDAO propositionOfChannelDAO, 
			PropositionOfWriterDAO propositionOfWriterDAO, ProposalDAO proposalDAO) {
		this.propositionOfChannelDAO = propositionOfChannelDAO;
		this.propositionOfWriterDAO = propositionOfWriterDAO;	
		this.proposalDAO = proposalDAO;
	}
	
	public ProposalVM getProposalVmFromProposal(long idProposal) {
		Proposal proposal = this.proposalDAO.getProposalById(idProposal);
		PropositionOfWriter propOfWriter = this.propositionOfWriterDAO.getByIdProposal(idProposal);
		List<PropositionOfChannel> propOfChannels = this.propositionOfChannelDAO.getAllByIdProposal(idProposal);
		
		return  getProposalVM(proposal, propOfWriter, propOfChannels);
	}
	
	
	private ProposalVM getProposalVM(Proposal proposal, PropositionOfWriter propOfWriter, 
			List<PropositionOfChannel> propOfChannels) {
		
		return null;
	}
}
